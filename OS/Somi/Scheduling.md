# CPU 스케줄링

# 1. 스케줄링

: 어떤 작업에 CPU를 배정할지 결정하는 것

컴퓨터 시스템의 효율은 어떤 프로세스에 cpu를 먼저 배정하느냐에 따라 달라짐

→ 작업의 형평성과 효율성을 결정하는 중요한 일이다

### **⁉️ CPU 스케줄링이 필요한 이유 ?**

- 멀티프로그래밍 환경인 경우 : CPU의 이용률 극대화를 위해 프로세스 동시 실행
    
    → CPU를 프로세스로부터 회수하고 할당하기를 반복해야한다
    

### CPU 스케줄링의 발생 조건

1. 프로세스가 Running 상태에서 Waiting 상태로 바뀔 때
2. 프로세스가 Running 상태에서 Ready 상태로 바뀔 때
3. 프로세스가 Waiting 상태에서 Ready 상태로 바뀔 때
4. 프로세스가 종료될 때

### CPU Scheduler

: Ready 상태의 프로세스 중 이번에 CPU를 받을 프로세스를 골라줌

### Dispatcher

: CPU 제어권을 스케줄러에 의해 선택된 프로세스에게 넘겨줌

→ 넘기는 과정 == Context Switch ( 문맥교환 ) 

### 스케줄러의 분류

- 장기 스케줄러 : 어떤 프로세스를 메모리에 로드할지 결정
- 중기 스케줄러 : 메모리에 있는 프로세스를 일시 중지, 재개
- 단기 스케줄러 : 실행 가능한 상태에 있는 프로세스 중 어떤 것을 CPU에 할당할지 결정

# 2. 스케줄링의 종류

→  CPU 스케줄링 알고리즘 마다 다 다른 장단점을 가지고 있고, 어떤 기준으로 평가하느냐에 따라 "좋다" 라는 **기준이** 달라질 수 있다.

### 평가 기준

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Fu2Pad%2FbtrZPTudoYb%2FAAAAAAAAAAAAAAAAAAAAAKrfNMWKr7ZMESRuwt7M_VPal3zsoC_k870wnSMcri4i%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1769871599%26allow_ip%3D%26allow_referer%3D%26signature%3DDlbB%252F3u7QTmWUY6o0zE%252F1hngsKo%253D">

1. CPU 사용률(Utilization)
    
    전체 시스템 시간 중에서 CPU가 작업을 처리하는 시간의 비율
    
    CPU를 가능한 최대한 빠쁘게 유지시키자!
    
    이론상 0 ~ 100 이지만 실제 시스템 상에서는 40 ~ 90 의 범위를 가짐
    
2. 처리량(Throughput)
    
    단위 시간당 완료된 프로세스의 개수
    
    CPU 사용률이 높고 프로세스들에 적정한 시간을 공평하게 제공했다면 처리량이 높음
    
3. 응답 시간(Response Time)
    
    대화식 시스템에서 요청 후 응답이 올 때까지의 시간
    
    응답의 ‘시작’이 기준이므로 응답이 전부 출력할 때까지 걸리는 시간은 아님
    
    짧을수록 유리함 
    
4. 대기 시간(Waiting Time)
    
    프로세스가 준비(ready) 큐에서 대기하는 시간들의 총합입니다.
    
    대기시간이 짧을수록 유리함
    
5. 반환 시간(Turnaround Time) [ 대기 시간 + 실행 시간]
    
    프로세스의 시작부터 끝날 때까지 걸리는 시간
    

### 비선점 스케줄링

: 이미 할당된 CPU를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 스케줄링 기법

프로세스가 CPU 할당 받으면, 해당 프로세스가 완료될때까지 CPU를 사용

일괄 처리 방식의 스케줄링, 순서대로 처리함

공정하지만, 긴급 응답을 원할 시 좋지 않음

- 선입선출 - **FCFS** ( FIFO ) : First-Come, First-Serve
    
    : 프로세스가 도착한 순서대로 CPU 할당받음
    
    오래 걸리는 작업이 먼저 들어오면 → 뒤에 있는 작업이 모두 기다려야함 == 호위효과
    
    → 대화형 시스템에서 좋지 않음
    
- 최단 작업 우선 - **SJF** ( 비선점형 ) : Shortest-Job-First
    
    : 현재 실행하는 프로세스를 끝내도록 허용함
    

### 선점 스케줄링

: 운영체제가 CPU 를 선점하고, 프로세스의 요청이 있을 때 분배하는 방식

빠른 응답시간을 요구하는 대화식 시분할 시스템에 적합합니다.

- 최단 작업 우선 - **SJF** ( 선점형 ) : Shortest-Job-First
    
    : 현재 실행하는 프로세스를 선점함
    
    - 최소 잔류 시간 우선 - **SRTF** 스케줄링
        
        : 각 프로세스의 남은 작업 시간을 비교하여 가장 짧은 프로세스에게 CPU 를 할당
        
- **RR** 스케줄링

: 선입선출 스케줄링과 비슷하지만, 시스템임 프로세스들을 옮겨 다인ㄹ 수 있도록 선점 추가

: 시간 할당량 크기에 따라 영향을 많이 받음

→ 시간 할당향 크면, 선입선출 스케줄링과 ==

→ 시간 할당량 작으면, 문맥 교환이 많이 발생

---

- **우선순위** 스케줄링

: 각 프로세스들은 우선순위를 가지고 있고, 이에 따라서 실행순서를 정해주는 스케줄링

⁉️ 문제점

1. 무한 봉쇄 : 실행 준비가 되어 있으나 계속 우선순위가 높은 프로세스가 발생, CPU 를 얻지 못함
2. 기아 상태 : 특정 프로세스가 우선순위가 낮거나 등등으로 CPU 자원을 오랫동안 할당받지 못하고 무한히 대기하는 것

✅ ‘ 노화 ( Aging ) 기법 ‘ 으로 해결

- 시간이 지남에 따라 대기 중인 프로세스의 우선순위를 점점 높여주는 방법

→ 결국 모든 프로세스가 CPU를 할당받을 수 있음

✅ 라운드 로빈 + 우선순위 스케줄링

- 우선순위가 가장 높은 프로세스를 실행
- 우선순위가 같은 프로세스들은 라운드 로빈 스케줄링으로 실행하는 방식입니다.

# ⁉️ 예상 질문 모음

> **✅ 기술 면접 답변틀**
> 
> 1. 기술의 정의 
> 2. 어디에서 사용하는지
> 3. 어떻게 사용할 수 있는지

<aside>
💡

기아 상태란 ?

- 기아 상태를 어떻게 해결할 수 있는가

스케줄링에 대해 설명해주세요

- CPU 스케줄링은 언제 발생합니까
- CPU 스케줄링의 목적은 무엇입니까
- 스케줄링은 어떻게 분류합니까

CPU 스케줄링의 종류를 설명해주세요

- 선점 스케줄링과 비선점 스케줄링의 차이점
- 스케줄링 알고리즘의 평가 기준

✅ 전면 프로세스, 후면 프로세스에 대한 설명

**:** 전면 프로세스란 GUI를 사용하는 OS에서 화면 맨 앞에 놓인 프로세스를 말합니다. 사용자와 상호작용이 있는 프로세스입니다.

사용자 측면에서는 입출력이 중요하기에 사용자 측면에서는

대기시간, 응답 시간, 반환 시간을 줄여줄 수 있는 스케줄링을 활용해야 합니다.

후면 프로세스란 사용자와 상호작용이 없는 프로세스입니다.

시스템 측면에서는 시스템의 자원을 최대한 활용할 수 있는 처리량 + CPU 사용률이 높게 해주는 스케줄링을 활용해야 합니다.

어떠한 상호작용 없이 순수 로직을 처리하는 프로세스를 의미합니다.

</aside>
